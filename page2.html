<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>It’s Been a While 💬</title>
  <link rel="stylesheet" href="style1.css" />

  <!-- Confetti Library -->
  <script src="https://cdn.jsdelivr.net/npm/confetti-js@0.0.18/dist/index.min.js"></script>

  <!-- Animation Scripts -->
  <script src="confetti.js" defer></script>
  <script src="heartRain.js" defer></script>

  <!-- Inline override to allow scroll -->
  <style>
    body {
      overflow-y: auto !important;
      overflow-x: hidden !important;
      min-height: auto !important;
    }

    .centered {
      min-height: auto !important;
      padding-bottom: 100px;
    }

    .polaroid-gallery {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin: 40px 0;
      z-index: 10;
      position: relative;
    }

    .polaroid {
      background-color: white;
      padding: 10px;
      border: 2px solid #ddd;
      border-radius: 10px;
      box-shadow: 3px 3px 5px rgba(0,0,0,0.2);
      text-align: center;
      width: 180px;
      font-family: 'Comic Sans MS', cursive;
    }

    .polaroid-img {
      width: 100%;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-bottom: 8px;
    }

    .caption {
      font-size: 14px;
      color: #333;
      margin-top: 5px;
    }

    .video-polaroid {
      max-width: 90vw;
      width: 600px;
      margin-top: 30px;
    }

    .polaroid-video {
      width: 100%;
      height: auto;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body onload="startConfetti(); startHearts();">

  <!-- Background Music -->
  <audio autoplay loop hidden id="bg-music">
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <!-- Confetti Canvas -->
  <canvas id="confetti-canvas"></canvas>

  <!-- Main Content -->
  <div class="centered">
    <h2>It’s been days since we last met 😭</h2>
    <p>But I cherish every moment we spent together. Here’s a little something to remind you of our last meet!</p>
    <img src="1.jpg" alt="Last meet" class="photo" />
    <p>Let’s meet again soon? 💌</p>

    <!-- Date Picker Section Moved Up -->
    <input type="date" id="meet-date">
    <h1 id="next-meet-display" class="big-text"></h1>

    <h3>📸 Memories of Last Meet</h3>

    <!-- Polaroid Gallery -->
    <div class="polaroid-gallery">
      <div class="polaroid">
        <img src="3.jpg" alt="Memory 1" class="polaroid-img" />
        <p class="caption">We laughed so hard 💕</p>
      </div>
      <div class="polaroid">
        <img src="4.jpg" alt="Memory 2" class="polaroid-img" />
        <p class="caption">Sunny day vibes ☀️</p>
      </div>
      <div class="polaroid">
        <img src="2..jpg" alt="Memory 3" class="polaroid-img" />
        <p class="caption">Just us being silly 😄</p>
      </div>
    </div>

    <!-- Video Section -->
    <div class="polaroid video-polaroid">
      <video controls class="polaroid-video">
        <source src="v2.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      <p class="caption">fun moment captured 🎥</p>
    </div>

    <!-- Final Button -->
    <button onclick="window.location.href='page3.html'">My Favourite Moments with You 💞</button>
  </div>

  <!-- Date display script -->
  <script>
    const dateInput = document.getElementById('meet-date');
    const display = document.getElementById('next-meet-display');

    dateInput.addEventListener('change', function () {
      const selectedDate = new Date(this.value);
      if (!isNaN(selectedDate)) {
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        const formattedDate = selectedDate.toLocaleDateString(undefined, options);
        display.textContent = `Next meet is on: ${formattedDate}`;
      } else {
        display.textContent = '';
      }
    });
  </script>
</body>
</html>
